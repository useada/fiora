(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1120:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){t.exports={sdk:{BID:"wpkreporter",CID:"jssdk",WID_KEY:"__wpkreporterwid_"},env:{BROWSER:"browser",NODEJS:"nodejs",WEEX:"weex"},px:{signKey:"Uvn#08uefVdwe&c4",addr:{cn:"http://px.effirst.com/api/v1/jssdk/upload",cn_https:"https://px.effirst.com/api/v1/jssdk/upload",intl:"http://px-intl.ucweb.com/api/v1/jssdk/upload",intl_https:"https://px-intl.ucweb.com/api/v1/jssdk/upload"},confAddr:{cn:"http://px.effirst.com/api/v1/jconfig",cn_https:"https://px.effirst.com/api/v1/jconfig",intl:"http://px-intl.ucweb.com/api/v1/jconfig",intl_https:"https://px-intl.ucweb.com/api/v1/jconfig"}},http:{methods:{GET:"GET",PUT:"PUT",POST:"POST",HEAD:"HEAD",DELETE:"DELETE",OPTIONS:"OPTIONS",CONNECT:"OPTIONS",TRACE:"OPTIONS",PATCH:"OPTIONS"},protocols:{HTTP:"http:",HTTPS:"https:"}},category:{JSERR:1,API:2,JSFSPERF:3,RESLOADFAIL:4,FLOW:5,BKPG:6,HARLOG:7},navConn:{types:{BLUETOOTH:"bluetooth",CELLULAR:"cellular",ETHERNET:"ethernet",MIXED:"mixed",NONE:"none",OTHER:"other",UNKNOWN:"unknown",WIFI:"wifi",WIMAX:"wimax"},effectiveTypes:{"2G":"2g","3G":"3g","4G":"4g",SLOW2G:"slow-2g"}}}},function(t,e,n){var r=n(6),o=n(0),i=o.px,a=o.category;function s(t){if(!(this instanceof s))return new s(t);t=t||{},this._init=!1,this.toolKit=r(t),this.logger=this.toolKit.logger,this.debug=t.debug||!1,!0===t.debug&&this.logger.warn("[wpk] now in debug mode, you can see log details"),this._plugins=t.plugins||[],this.bid=t.bid,this.cid=t.cid,this.uid=t.uid,this.rel=t.rel,this.spa=t.spa||!1,this.delay=!1!==t.delay,this.cluster=t.cluster||"cn",this.sampleRate=t.sampleRate,this.ignoreScriptError=!1!==t.ignoreScriptError,this.onlyCustom=t.onlyCustom||!1,this.beforeSend=t.beforeSend||null,this.checkHidden=!1!==t.checkHidden,this._waitingQueue=[]}function c(t){var e=i.confAddr[t.cluster+(t.isHttps?"_https":"")],n=i.signKey;t._startTime=Date.now(),t._dying=!0,t.toolKit.dynamicConf(t.bid,t.VERSION,e,n,(function(e){t._dying=!1,t._dyConf=e,t.logger.warn("jconfig come back")}))}s.prototype={VERSION:"0.6.2",initialize:function(t){this.env=t.env,t.root.location&&-1!==t.root.location.search.indexOf("wpkReporterDebug=true")&&(this.debug=!0),this.send=t.send,this.getWid=t.getWid,this.isHttps=t.isHttps,t.bindUnloadEvent(this)},ready:function(){return this._init},setConfig:function(t){return this.toolKit.isObject(t)&&this.toolKit.extend(this,t),this},report:function(t){if("string"==typeof t&&(t={category:a.JSERR,msg:t}),t.sampleRate||(t.sampleRate=1),this.toolKit.canReport(t.sampleRate||this.sampleRate)){if(this.ready()){var e;if("function"==typeof this.beforeSend){try{e=this.beforeSend(t)}catch(t){this.logger.error("exec beforeSend failed for:",t)}if(!1===e)return void this.logger.warn("beforeSend func return false");"object"==typeof e&&(t=e)}var n=this.toolKit.getMetas(),r=t.bid||this.bid||n.wpkBid,o=t.cid||this.cid||n.wpkCid,s=t.rel||this.rel||n.wpkRel;this.toolKit.isFunction(s)&&(s=s());var u=t.uid||this.uid;if(this.toolKit.isFunction(u)&&(u=u()),u||(u=this.getWid()),this.toolKit.extend(t,{w_bid:r,w_cid:o,w_rel:s,w_spa:this.spa,w_tm:this.toolKit.timestamp(),w_cnt:1,uid:u,type:this.toolKit.categoryToType(t.category),sdk_ver:this.VERSION,log_src:"jssdk",uc_param:this.uc_param||"",wid:this.wid}),this._dyConf&&Date.now()<this._dyConf.expireAt){var l=void 0!==this._dyConf[t.type]?this._dyConf[t.type]:this._dyConf.all;if(void 0!==l&&!this.toolKit.canReport(l))return void this.logger.warn("由于「动态配置」采样率控制，本条日志最终未上报，类型: ",t.type," 采样率: ",l)}else!this._dying&&Date.now()-this._startTime>=18e5&&(this.logger.warn("syncing dynamic config"),c(this));var f={app:r,cp:"none",de:4,seq:this.toolKit.generateSeq(),tm:this.toolKit.timestamp(!0),ud:t.uid,ver:t.w_rel,type:t.type,sver:t.sdk_ver};f.sign=this.toolKit.computeSign(f,i.signKey);var d=i.addr[this.cluster+(this.isHttps?"_https":"")],p=this.toolKit.objToQueryString(f);this.toolKit.cutStr(t,["c1","c2","c3","c4","c5"],128),this.send(d,p,t)}else this._waitingQueue.push(t),this.logger.warn("sdk未完成初始化，数据已缓存");return this}this.logger.warn("由于采样率控制，本条日志最终未上报，采样率: ",t.sampleRate||this.sampleRate)},reportFlow:function(t){return t=t||{},this.report(this.toolKit.extend(t||{},{category:a.FLOW,sampleRate:1})),this},reportError:function(t,e){return this.toolKit.isError(t)?((e=e||{}).category=a.JSERR,e.w_msg=t.toString(),e.stack=this.toolKit.parseErrorStack(t),e.w_file=t.filename||"",e.w_line=t.lineno||"",e.w_col=t.colno||"",this.report(e),this):this.report(t,e)},reportApiError:function(t,e){return t&&(this.toolKit.isObject(t.queryString)&&(t.queryString=this.toolKit.objToQueryString(t.queryString)),this.report(this.toolKit.extend(e||{},{msg:t.msg||"",w_res:t.url,w_method:t.method,w_param:t.queryString,w_body:JSON.stringify(t.body),w_resp:t.response,w_rc:t.status,w_rt:t.spent||"",c1:t.c1,c2:t.c2,c3:t.c3,c4:t.c4,c5:t.c5},{category:a.API,w_type:16}))),this},diagnose:function(){this.ready()?this.bid?(this.sampleRate||this.logger.warn("没有设置采样率参数sampleRate，将使用默认采样率"),this.report({_diagnose:!0})):this.logger.warn("缺少bid参数,请确认是否已正确设置"):this.logger.warn("wpkReporter尚未初始化，请确保已调用 install 方法")},addPlugin:function(t,e){return this._plugins.push([t,e]),"function"==typeof t&&this._init&&t.apply(this,[this,e]),this},install:function(){c(this);for(var t=n(2),e=this._plugins.length,r=!1,o=0;o<e;o++){var i=this._plugins[o],a=i[0],s=i[1];a+""==t+""&&(r=!0),a.apply(this,[this,s])}return this.wid=this.getWid(),this._sid=this.toolKit.uuid(),this._init=!0,0!==e&&r||(this.toolKit.logger.info("没有设置Flow，内置开启"),this.addPlugin(t)),this},installAll:function(){var t=[[n(9),{resErr:!0}],[n(10)],[n(11)],[n(2)],[n(12),{params:"prveosfrnw"}]],e=this._plugins.length;if(0===e)this._plugins=t;else{for(var r=[],o=t.length,i=0;i<o;i++){for(var a=t[i],s=0;s<e;s++)if(a[0].prototype.pluginId===this._plugins[s][0].prototype.pluginId){a=this._plugins[s];break}r.push(a)}this._plugins=r}return this.install()},uninstall:function(){return this._plugins=[],this._init=!1,this}},t.exports=s},function(t,e,n){var r=n(0).env,o=function(t){var e;return(t&&(e=t.replace(/^#\/?/,""))&&"string"==typeof e?e.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):"")||"[index]"},i=function(t,e){if(e=e||{},t.env===r.BROWSER&&window)if(t.toolKit.extend({enable:!0},e).enable){t.logger.info("wpkflowPlugin已开启");var i,a,s=function(){t.reportFlow()};t.toolKit.onListen(window,"load",s,!0),t.spa&&(n(8)(),i=function(e){o(location.hash)&&(t._sid=t.toolKit.uuid(),t.reportFlow())},a=function(e){o(e.detail)&&(t._sid=t.toolKit.uuid(),t.reportFlow())},t.toolKit.onListen(window,"hashchange",i),t.toolKit.onListen(window,"historystatechange",a)),t.toolKit.onListen(window,"beforeunload",(function(){t.toolKit.offListen(window,"load"),t.toolKit.offListen(window,"hashchange"),t.toolKit.offListen(window,"historystatechange"),s=i=a=null}))}else t.logger.info("wpkflowPlugin已关闭")};i.prototype.pluginId="flow",t.exports=i},function(t,e,n){(function(e){var r="object"==typeof e&&e+""=="[object process]",o="function"==typeof callNative||"function"==typeof nativeLog;t.exports=n(o?5:r?14:17)}).call(this,n(4))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var t=s(d);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(1),o=n(13);t.exports=function(t){var e=new r(t);return e.initialize(o),e}},function(t,e,n){var r=n(7),o=function(t){return t||""},i=function(){var t=Date.now();return"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:11&n).toString(16)}))},a=function(t){return"object"==typeof t},s=function(t){var e={}.toString.call(t);return a(t)&&("[object Error]"===e||"[object Exception]"===e||e instanceof Error)},c=function(t){return"[object Array]"==={}.toString.call(t)},u=function(t){return"function"==typeof t},l=function(t){var e=+new Date;return!0===t&&(e=Math.floor(e/1e3)),e},f=function(t){if(t.stack){var e=t.stack.split("\n");return e.shift(),e.join("\n")}return""},d=function(t,e){t=t||{};var n=[];for(var o in t)n.push(o);n.sort();for(var i=n.length,a=[],s=0;s<i;s++)a.push(n[s]+"="+t[n[s]]);return a.push(e),r(a.join(""))},p=function(t){var e;switch(t){case 1:e="jserr";break;case 2:e="api";break;case 3:e="jsfsperf";break;case 4:e="resloadfail";break;case 5:e="flow";break;case 6:e="bkpg";break;case 7:e="harlog";break;default:e="jssdkidx"}return e},h=function(){return l()+Math.floor(10*Math.random())},g=function(t){var e=[];for(var n in t)e.push(n+"="+t[n]);return e.join("&")},w=function(t){return JSON?JSON.stringify(t):t.toString()},v=function(){if("undefined"!=typeof document&&document.getElementsByTagName)for(var t,e,n,r,o=document.getElementsByTagName("meta"),i=o.length,a=0;a<i;a++)"wpk-bid"===(r=o[a]).name?t=r.content:"wpk-cid"===r.name?e=r.content:"wpk-rel"===r.name&&(n=r.content);return{wpkBid:t||null,wpkCid:e||null,wpkRel:n||null}},m=function(t,e,n,r){return t.addEventListener?t.addEventListener(e,(function o(i){r&&t.removeEventListener(e,o,!1),n.call(this,i)}),!1):t.attachEvent&&t.attachEvent("on"+e,(function o(i){r&&t.detachEvent("on"+e,o),n.call(this,i)})),this},_=function(t,e,n){return n?(t.removeEventListener?t.removeEventListener(e,n):t.detachEvent&&t.detachEvent(e,n),this):this},y=function(t){return!!t&&0!==t&&(t>=1||"100%"===t||(/^\d+(\.\d+)?%$/.test(t)?Math.random()<parseFloat(t)/100:t>0&&t<1&&Math.random()<t))},x="wpk-reporter",b=function(t,e){var n=[].slice.call(e);t.apply(this,[x].concat(n))},E=function(t){var e="";switch(t.category){case 1:e=r([t.category,t.uid,t.w_url,t.w_ref,t.w_msg||"",t.w_line||"",t.w_col||""].join(""));break;case 2:e=r([t.category,t.uid,t.w_res,t.w_method,t.w_rc].join(""));break;case 4:e=r([t.category,t.uid,t.w_url,t.w_ref,t.w_res,t.w_type].join(""))}return e},S=function(t,e){t=t||!1;try{if("undefined"!=typeof window&&window.ucweb&&window.ucweb.window||e){for(var n=(e||navigator.userAgent).split(" "),r=n.length,o=!1,i=!1,a=0;a<r;a++)-1!==n[a].indexOf("UWS/")?i=n[a].split("/")[1]>="2.13.2.37":-1!==n[a].indexOf("AliApp(DingTalk/")&&(o=!0);return o?i:t}}catch(t){}return!1},R={get:function(t){if("undefined"!=typeof localStorage){var e=localStorage.getItem(t);if(e){if(e=JSON.parse(e),Date.now()<e.expireAt)return e;this.rm(t)}}return null},set:function(t,e){"undefined"!=typeof localStorage&&t&&e&&(e.expireAt=Date.now()+18e5,localStorage.setItem(t,JSON.stringify(e)))},rm:function(t){"undefined"!=typeof localStorage&&localStorage.removeItem(t)}},k=function(t,e){if(e){if(1===e.length)return t===e[0];if(2===e.length){var n=e[0],r=e[1];return n&&!r?o(t,n):n&&r?o(t,n)&&o(r,t):o(r,t)}return!1}return!0;function o(t,e){var n=t.split("."),r=e.split(".");return!(n[0]<r[0])&&(n[0]>r[0]||!(n[1]<r[1])&&(n[1]>r[1]||n[2]>=r[2]))}},T=function(t,e,n,r,o){var a=R.get("wpkreporter:dynamicConf");if(a)u(o)&&o(a);else{var s={app:t,tm:l(!0),ud:i(),sver:e};s.sign=d(s,r);var c=g(s);!function(t,e){if("undefined"==typeof XMLHttpRequest)e();else{var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){var t;if(200===n.status&&n.response)try{var r=JSON.parse(n.response);0===r.code&&(t=r.config||[])}catch(t){}e(t)}},n.timeout=3e3,n.open("GET",t,!0),n.send()}}(n+"?wpk-header="+encodeURIComponent(c),(function(t){if(a={},void 0!==t){for(var n=t.length,r=0;r<n;r++){var i=t[r],s=i.sdkver;if(k(e,s)){if(i.common&&void 0!==i.common.sampleRate&&(a.all=i.common.sampleRate),i.config)for(var c,l=i.config.length,f=0;f<l;f++)(c=i.config[f]).type&&void 0!==c.sampleRate&&(a[c.type]=c.sampleRate);break}}R.set("wpkreporter:dynamicConf",a)}u(o)&&o(a)}))}},O=function(t,e,n){for(var r,o=e.length,i=0;i<o;i++)"string"==typeof(r=t[e[i]])?t[e[i]]=r.substring(0,n):"object"==typeof r&&(t[e[i]]=String(r))};t.exports=function(t){return{noop:o,uuid:i,md5:r,isError:s,isArray:c,isObject:a,isFunction:u,logger:"undefined"!=typeof console&&a(console)&&t.debug?{trace:function(){b(console.trace,arguments)},debug:function(){b(console.debug,arguments)},log:function(){b(console.log,arguments)},info:function(){b(console.info,arguments)},warn:function(){b(console.warn,arguments)},error:function(){b(console.error,arguments)}}:{trace:o,debug:o,log:o,info:o,warn:o,error:o},extend:function(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},canReport:y,onListen:m,offListen:_,getMetas:v,timestamp:l,computeSign:d,generateSeq:h,categoryToType:p,parseErrorStack:f,objToJsonString:w,objToQueryString:g,genContentHash:E,isU4HA:S,cutStr:O,dynamicConf:T}}},function(t,e,n){var r;!function(o){"use strict";function i(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function a(t,e,n,r,o,a){return i(function(t,e){return t<<o|t>>>32-o}(i(i(e,t),i(r,a))),n)}function s(t,e,n,r,o,i,s){return a(e&n|~e&r,t,e,o,i,s)}function c(t,e,n,r,o,i,s){return a(e&r|n&~r,t,e,o,i,s)}function u(t,e,n,r,o,i,s){return a(e^n^r,t,e,o,i,s)}function l(t,e,n,r,o,i,s){return a(n^(e|~r),t,e,o,i,s)}function f(t,e){var n,r,o,a,f;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var d=1732584193,p=-271733879,h=-1732584194,g=271733878;for(n=0;n<t.length;n+=16)p=l(p=l(p=l(p=l(p=u(p=u(p=u(p=u(p=c(p=c(p=c(p=c(p=s(p=s(p=s(p=s(o=p,h=s(a=h,g=s(f=g,d=s(r=d,p,h,g,t[n],7,-680876936),p,h,t[n+1],12,-389564586),d,p,t[n+2],17,606105819),g,d,t[n+3],22,-1044525330),h=s(h,g=s(g,d=s(d,p,h,g,t[n+4],7,-176418897),p,h,t[n+5],12,1200080426),d,p,t[n+6],17,-1473231341),g,d,t[n+7],22,-45705983),h=s(h,g=s(g,d=s(d,p,h,g,t[n+8],7,1770035416),p,h,t[n+9],12,-1958414417),d,p,t[n+10],17,-42063),g,d,t[n+11],22,-1990404162),h=s(h,g=s(g,d=s(d,p,h,g,t[n+12],7,1804603682),p,h,t[n+13],12,-40341101),d,p,t[n+14],17,-1502002290),g,d,t[n+15],22,1236535329),h=c(h,g=c(g,d=c(d,p,h,g,t[n+1],5,-165796510),p,h,t[n+6],9,-1069501632),d,p,t[n+11],14,643717713),g,d,t[n],20,-373897302),h=c(h,g=c(g,d=c(d,p,h,g,t[n+5],5,-701558691),p,h,t[n+10],9,38016083),d,p,t[n+15],14,-660478335),g,d,t[n+4],20,-405537848),h=c(h,g=c(g,d=c(d,p,h,g,t[n+9],5,568446438),p,h,t[n+14],9,-1019803690),d,p,t[n+3],14,-187363961),g,d,t[n+8],20,1163531501),h=c(h,g=c(g,d=c(d,p,h,g,t[n+13],5,-1444681467),p,h,t[n+2],9,-51403784),d,p,t[n+7],14,1735328473),g,d,t[n+12],20,-1926607734),h=u(h,g=u(g,d=u(d,p,h,g,t[n+5],4,-378558),p,h,t[n+8],11,-2022574463),d,p,t[n+11],16,1839030562),g,d,t[n+14],23,-35309556),h=u(h,g=u(g,d=u(d,p,h,g,t[n+1],4,-1530992060),p,h,t[n+4],11,1272893353),d,p,t[n+7],16,-155497632),g,d,t[n+10],23,-1094730640),h=u(h,g=u(g,d=u(d,p,h,g,t[n+13],4,681279174),p,h,t[n],11,-358537222),d,p,t[n+3],16,-722521979),g,d,t[n+6],23,76029189),h=u(h,g=u(g,d=u(d,p,h,g,t[n+9],4,-640364487),p,h,t[n+12],11,-421815835),d,p,t[n+15],16,530742520),g,d,t[n+2],23,-995338651),h=l(h,g=l(g,d=l(d,p,h,g,t[n],6,-198630844),p,h,t[n+7],10,1126891415),d,p,t[n+14],15,-1416354905),g,d,t[n+5],21,-57434055),h=l(h,g=l(g,d=l(d,p,h,g,t[n+12],6,1700485571),p,h,t[n+3],10,-1894986606),d,p,t[n+10],15,-1051523),g,d,t[n+1],21,-2054922799),h=l(h,g=l(g,d=l(d,p,h,g,t[n+8],6,1873313359),p,h,t[n+15],10,-30611744),d,p,t[n+6],15,-1560198380),g,d,t[n+13],21,1309151649),h=l(h,g=l(g,d=l(d,p,h,g,t[n+4],6,-145523070),p,h,t[n+11],10,-1120210379),d,p,t[n+2],15,718787259),g,d,t[n+9],21,-343485551),d=i(d,r),p=i(p,o),h=i(h,a),g=i(g,f);return[d,p,h,g]}function d(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function p(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function h(t){var e,n,r="0123456789abcdef",o="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),o+=r.charAt(e>>>4&15)+r.charAt(15&e);return o}function g(t){return unescape(encodeURIComponent(t))}function w(t){return function(t){return d(f(p(t),8*t.length))}(g(t))}function v(t,e){return function(t,e){var n,r,o=p(t),i=[],a=[];for(i[15]=a[15]=void 0,16<o.length&&(o=f(o,8*t.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=f(i.concat(p(e)),512+8*e.length),d(f(a.concat(r),640))}(g(t),g(e))}function m(t,e,n){return e?n?v(e,t):function(t,e){return h(v(t,e))}(e,t):n?w(t):function(t){return h(w(t))}(t)}void 0===(r=function(){return m}.call(e,n,e,t))||(t.exports=r)}()},function(t,e){var n=window.history||{},r=window.document,o=function(t,e){var n;window.CustomEvent?n=new CustomEvent(t,{detail:e}):((n=r.createEvent("HTMLEvents")).initEvent(t,!1,!0),n.detail=e),window.dispatchEvent(n)},i=function(t){return t&&"string"==typeof t?t.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):""},a=function(t){var e=n[t];"function"==typeof e&&(n[t]=function(t,r,a){var s=location.href,c=e.call(n,t,r,a);if(!a||"string"!=typeof a)return c;if(a===s)return c;try{var u=s.split("#"),l=a.split("#"),f=i(u[0]),d=i(l[0]),p=u[1]&&u[1].replace(/^\/?(.*)/,"$1"),h=l[1]&&l[1].replace(/^\/?(.*)/,"$1");f!==d?o("historystatechange",d):p!==h&&o("historystatechange",h)}catch(t){}return c},n[t].toString=t+"() { [native code] }")};t.exports=function(){a("pushState"),a("replateState")}},function(t,e,n){var r,o,i=n(0),a=i.env,s=i.category,c=function(t){return"function"==typeof t},u=function(t){var e=-1;switch(t.tagName.toLowerCase()){case"img":e=1;break;case"link":t.rel&&"stylesheet"===t.rel.toLowerCase()&&(e=2);break;case"script":e=3;break;case"video":e=11}return e},l={},f=function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r||!1):(l["on"+e]=function(){return n.call(t,window.event)},t.attachEvent("on"+e,l["on"+e]))},d=function(t,e){var n=t.id?"#"+t.id:"",r=t.className?"."+t.className.split(" ").join("."):"",o=t.tagName.toLowerCase();return t.parentNode&&t.parentNode.tagName&&e-1!=0?d(t.parentNode,e-1)+" > "+o.toLowerCase()+n+r:o+n+r},p=function(t,e,n,i,a,u){if(r)try{r.call(this,e,n,i,a,u)}catch(u){}if(/^script error\.?$/i.test(e)&&(e="Script error"),o.ignoreScriptError&&"Script error"===e)t.logger.warn("配置了ignoreScriptError，本次异常将不上报");else if(!c(o.jsErrFilter)||o.jsErrFilter.call(this,event)){if(null!=u){var l=(u.stack||"").split("\n");l.shift();var f={w_msg:e,w_file:n||"",w_line:i||"",w_col:a||"",stack:l.join("\n"),category:s.JSERR,sampleRate:o.jsErrSampleRate};t.report(f)}}else t.logger.warn("jserrFilter 返回false，本次日志将不上报, event: ",event)},h=function(t,e){var n=window;n&&t.env===a.BROWSER?(t.logger.info("wpkglobalerrorPlugin已开启"),!1!==(o=t.toolKit.extend({jsErrSampleRate:1,resErrSampleRate:1},e)).jsErr?(r=n.onerror,n.onerror=function(e,n,r,o,i){p(t,e,n,r,o,i)},f(n,"unhandledrejection",(function(e){var n=e.type;"string"==typeof e.reason?n=e.reason:"object"==typeof e.reason&&e.reason.message&&(n=e.reason.message),p(t,n,null,null,null,e.reason)}))):t.logger.warn("js异常监控已关闭"),o.resErr?f(n,"error",(function(e){!function(t,e){if(!e.target.tagName||e.message||e.filename||e.lineno||e.colno)t.logger.warn("非资源获取问题，跳出处理, event: ",e);else if(!c(o.resErrFilter)||o.resErrFilter.call(this,e)){var n=e.target.src||e.target.href;t.report({category:s.RESLOADFAIL,sampleRate:o.resErrSampleRate,msg:n+" 加载失败",w_res:n,w_type:u(e.target),w_xpath:d(e.target,5)})}else t.logger.warn("reserrFilter 返回false，本次日志将不上报, event: ",e)}(t,e)}),!0):t.logger.warn("资源加载异常监控已关闭")):t.logger.warn("全局错误监控插件不支持非浏览器环境")};h.prototype.pluginId="gerror",t.exports=h},function(t,e,n){var r=n(0),o=r.sdk,i=r.http.methods,a=r.category,s=2048,c=121e3,u=function(t){return t>=200&&t<=299},l=function(t){return-1===t.indexOf("//arms-retcode")&&-1===t.indexOf("//wpk-gateway")&&-1===t.indexOf("//px.ucweb.com")&&-1===t.indexOf("//px.effirst.com")&&-1===t.indexOf("//px-intl.ucweb.com")},f=function(t,e){if(t.env===r.env.BROWSER&&window){var n=t.toolKit.extend({enable:!0,sampleRate:1},e);n.enable?(t.logger.info("wpkinterfacePlugin已开启"),"XMLHttpRequest"in window&&function(t,e){var n=window.XMLHttpRequest.prototype,r=n.open;n.open=function(t,e){this.__reqCtx__={method:t,url:e||"",start:Date.now()};var n=[].slice.call(arguments);r.apply(this,n)};var f=n.send;n.send=function(n){var r=this;function d(){if(r.__reqCtx__&&4===r.readyState)try{var f=Date.now(),d=(r.responseURL||r.__reqCtx__.url).split("?"),p=d[0],h=d[1]||"",g="";r.__reqCtx__.method.toUpperCase()!==i.GET&&n&&(g=JSON.stringify(n));var w=String(r.response),v=!0,m={};"function"==typeof e.errorFilter&&(v=!!(m=e.errorFilter.call(this,{url:p,status:r.status,response:w})),t.logger.warn("api errorFilter执行结果：",m)),w.length>s&&(w="[response content too large]");var _=f-r.__reqCtx__.start;if(v&&_<c&&l(p)){var y=m.bizCode||r.status;t.report({category:a.API,sampleRate:e.sampleRate,w_res:p,w_param:h,w_body:u(y)||!e.withBody?"":g,w_method:r.__reqCtx__.method,w_rc:y,w_rt:_,w_resp:u(y)||!e.withResp?"":m.msg||w,w_type:16,c1:m.traceId})}}catch(e){t.reportError(e,{bid:o.BID,cid:o.CID,category:a.JSERR,sampleRate:1})}}if("onreadystatechange"in r&&"function"==typeof r.onreadystatechange){var p=r.onreadystatechange;r.onreadystatechange=function(){var t=[].slice.call(arguments);d.apply(this,t),p.apply(this,t)}}else r.onreadystatechange=d;var h=[].slice.call(arguments);return f.apply(this,h)}}(t,n),"fetch"in window&&function(t,e){var n=window.fetch;window.fetch=function(){var r=[].slice.call(arguments),f=i.GET;r[1]&&r[1].method&&(f=r[1].method.toUpperCase());var d=Date.now();return n.apply(this,r).then((function(n){try{var p=Date.now(),h=(n.url||r[0]).split("?"),g=h[0],w=h[1]||"",v="";f!==i.GET&&r[1]&&r[1].body&&(v=JSON.stringify(r[1].body)),n.clone().text().then((function(r){r=r||"";var o=!0,i={};if("function"==typeof e.errorFilter&&(o=!!(i=e.errorFilter.call(this,{url:g,status:n.status,response:r})),t.logger.warn("api errorFilter执行结果：",i)),r=r.length>s?"[response content too large]":r,o&&p-d<c&&l(g)){var h=i.bizCode||n.status;t.report({category:a.API,sampleRate:e.sampleRate,w_res:g,w_param:w,w_body:u(h)||!e.withBody?"":v,w_method:f,w_rc:h,w_rt:p-d,w_resp:u(h)||!e.withResp?"":i.msg||r,w_type:16,c1:i.traceId})}}))}catch(e){t.reportError(e,{bid:o.BID,cid:o.CID,category:a.JSERR,sampleRate:1})}return n})).catch((function(e){throw t.reportError(e,{category:a.JSERR}),e}))}}(t,n)):t.logger.info("wpkinterfacePlugin已关闭")}};f.prototype.pluginId="api",t.exports=f},function(t,e,n){var r,o=n(0).env,i=n(0).category,a=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","msFirstPaint"],s=["navigate","reload","back_forward"],c=function(t){var e,n=t[a[5]];if(1===t._ver){var r;if(!(r=window.chrome&&window.chrome.loadTimes?1e3*window.chrome.loadTimes().firstPaintTime:t.msFirstPaint?t.msFirstPaint:t[a[13]]))return-1;e=r>=n?parseFloat((r-n).toFixed(2)):-1}else 2===t._ver&&(e=t[a[13]]-n,e=parseFloat(e.toFixed(2)));return e},u=function(t,e){var n,r,o,i={};for(var s in e)o=0,n=t[a[e[s][0]]],r=t[a[e[s][1]]],n>0&&r>0&&(o=parseFloat((r-n).toFixed(2))),i[s]=o;return i},l=function(t,e){var n=window;if(r=n.performance||n.webkitPerformance||n.msPerformance||n.mozPerformance,t.env===o.BROWSER&&r&&r.timing){e=e||{};var a=t.toolKit.extend({enable:!0,sampleRate:1},e);if(a.enable){t.logger.info("wpkperformancePlugin已开启");var l=r.timing||{},f=1;if("function"==typeof n.PerformanceNavigationTiming)try{var d=r.getEntriesByType("navigation")[0];d&&(l=d,f=2)}catch(t){}l._ver=f,function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}(window,"load",(function(){/loaded|complete/.test(document.readyState)&&setTimeout((function(){var e=t.toolKit.extend(function(t){return u(t,{w_unload:[1,2],w_redirect:[3,4],w_appcache:[5,6],w_dns:[6,7],w_tcp:[8,10],w_ssl:[9,10],w_ttfb:[11,12],w_contentdownload:[12,13],w_domparsing:[13,15],w_res:[17,19]})}(l),function(t){var e=u(t,{w_firstbyte:[5,12],w_tti:[5,15],w_domready:[5,17],w_load:[5,19],w_total:[5,20]});return e.w_fpt=c(t),e}(l));for(var n in e)if(e[n]<0||e[n]>6e4)return void t.logger.warn("性能数据异常：",n,e[n]);var o=t.toolKit.extend(e,function(t){var e,n=r.navigation||{},o=-1,i=-1,a=-1;return 1===t._ver?e=s[n.type]||"other":2===t._ver&&(o=t.encodedBodySize,i=t.decodedBodySize,a=t.transferSize,e=t.type),{w_enbdsize:o,w_debdsize:i,w_transize:a,w_navtype:e}}(l),a,{category:i.JSFSPERF});t.report(o)}))}))}else t.logger.info("wpkperformancePlugin已关闭")}else t.logger.warn("基础性能插件仅支持浏览器环境")};l.prototype.pluginId="perf",t.exports=l},function(t,e,n){var r=n(0).env,o=function(t,e){if(e=e||{},-1!==[r.BROWSER,r.WEEX].indexOf(t.env)&&e.params&&"string"==typeof e.params){t.logger.info("wpkucparamPlugin已开启");for(var n=e.params,o=["pr","ve","os","fr","nw"],i=0;i<5;i++){var a=o[i];-1===n.indexOf(a)&&(n+=a)}try{ucapi.biz.ucparams({params:n,success:function(e){t.uc_param=e||""}})}catch(e){t.logger.error("get uc_param_str error: ",e),t.uc_param_str=n}}};o.prototype.pluginId="ucparam",t.exports=o},function(t,e,n){var r=n(0),o="undefined"!=typeof weex?weex:{};t.exports={env:r.env.WEEX,root:o,isHttps:!1,send:function(t,e,n){var r=this.toolKit.extend(function(){var t={wx_pf:WXEnvironment.platform,wx_ver:WXEnvironment.weexVersion,wx_app:WXEnvironment.appName,wx_app_ver:WXEnvironment.appVersion,wx_os:WXEnvironment.osName,wx_os_ver:WXEnvironment.osVersion,wx_dev_md:WXEnvironment.deviceModel,dsp_w:WXEnvironment.deviceWidth,dsp_h:WXEnvironment.deviceHeight};if(void 0!==weex.config.uc)try{var e=JSON.parse(weex.config.uc.ucParams);t.net=e.nw,t.wx_app=e.pr,t.wx_app_ver=e.ve}catch(t){}return"undefined"!=typeof weex&&weex.config&&weex.config.bundleType&&"Vue"!==weex.config.bundleType&&"vue"!==weex.config.bundleType?("undefined"!=typeof location?t.wx_bdl_url=location.href:t.wx_bdl_url="undefined"!=typeof weex&&weex.config?weex.config.bundleUrl:"unknow",t.wx_bdl_type="Rax"):(t.wx_bdl_url=weex.config.bundleUrl,t.wx_bdl_type="Vue"),t.wx_bdl_name=function(t){try{var e=t.substring(t.lastIndexOf("/")+1);return-1===e.lastIndexOf(".")?e:e.substring(0,e.lastIndexOf("."))}catch(t){return""}}(t.wx_bdl_url),t}(),n,{w_frmid:this._sid});r.fr=r.wx_os,r.rom=r.wx_os_ver,r.brand=r.wx_dev_md,r.model=r.wx_dev_md,r.browser=r.wx_app,r.bver=r.wx_app_ver,r.w_url=r.wx_bdl_name,r.w_send_mode="weexfetch";var o=encodeURIComponent(e),i=encodeURIComponent(this.toolKit.objToJsonString(r));this.uc_param_str&&(t+="&uc_param_str="+this.uc_param_str),weex.requireModule("stream").fetch({url:t,method:"POST",headers:{"wpk-header":o},body:i},(function(t,e){}))},getWid:function(){return this.toolKit.uuid()},bindUnloadEvent:function(){}}},function(t,e,n){var r=n(1),o=n(15);t.exports=function(t){var e=new r(t);return e.initialize(o),e}},function(t,e,n){(function(e){var r=n(0),o=e;t.exports={env:r.env.NODEJS,root:o,send:function(t,e,n){}}}).call(this,n(16))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(1),o=n(18);t.exports=function(t){var e=new r(t);return e.initialize(o),e}},function(t,e,n){var r=n(0),o="undefined"!=typeof window?window:"undefined"!=typeof self?self:{},i=o.document,a=o.navigator,s=o.location,c={},u=function(t,e,n,r,o){if(void 0===e){var a,s;if(!c[t]){a=new RegExp(t+"=([^;]+)");try{s=a.exec(i.cookie)}catch(t){return null}s&&(c[t]=s[1])}return c[t]}var u=t+"="+e;r&&(u+="; domain="+r),o&&(u+="; path="+o),n&&(u+="; max-age="+n);try{return i.cookie=u,!!i.cookie}catch(t){return!1}},l=function(t){var e=window,n="wpkimgreporter_"+ +new Date+".r"+Math.floor(1e3*Math.random()),r=e[n]=new Image;r.onload=r.onerror=function(){e[n]=null},r.src=t},f=null,d=function(t){clearTimeout(f),f=null,function(t){var e=t._waitingQueue;if(t.checkHidden&&i&&i.hidden)return t.logger.warn("当前页面不可见，日志数据将丢弃: ",e),void(t._waitingQueue=[]);if(a&&a.sendBeacon&&o.Blob){var n,r,s=function(t){for(var e,n,r=[],o=[],i=t.length,a=0;a<i;a++)n=t[a].category,-1===o.indexOf(n)&&o.push(n);e=o.length;for(var s=0;s<e;s++){n=o[s];for(var c=[],u=0;u<i;u++){var l=t[u];l.category===n&&c.push(l)}r[s]=c}return r}(e),c=s.length;try{for(var u,f=0;f<c;f++){u=(n=s[f])[0]._servAddr,r=n.length;for(var d=0;d<r;d++)n[d].w_send_mode="sendbeacon",n[d]._servAddr=void 0,n[d]._hash=void 0,n[d]=t.toolKit.objToJsonString(n[d]);var p=encodeURIComponent(n.join("\n"));a.sendBeacon(u,p)}t._waitingQueue=[]}catch(t){}}else{for(var h,g,w=0;w<e.length;w++)g=(h=e[w])._servAddr,h.w_send_mode="imgsrc",h._servAddr=void 0,h._hash=void 0,h=encodeURIComponent(t.toolKit.objToJsonString(h)),l(g+"&data="+h);t._waitingQueue=[]}}(t)},p=function(t){d(t)};t.exports={env:r.env.BROWSER,root:o,isHttps:s.protocol===r.http.protocols.HTTPS,send:function(t,e,n){var c=this;if(c.toolKit.isU4HA(c.onlyCustom)&&n.category<100)c.logger.warn("在u4内核环境，屏蔽非自定义的所有自动打点");else{var u=c.toolKit.extend(function(t){if(!i)return{};var e,n=i.referrer;return n&&-1!==n.indexOf('"')&&(n=encodeURIComponent(i.referrer)),{w_url:s.origin+s.pathname,w_query:s.search,w_ref:s.hash.substring(1),w_title:i.title,ua:a.userAgent,referrer:n,dsp_w:o.screen.width,dsp_h:o.screen.height,net:(e=a.connection,e&&e.type?e.type===r.navConn.types.NONE?"disconnected":e.type===r.navConn.types.CELLULAR?e.effectiveType===r.navConn.effectiveTypes.SLOW2G?"2g":e.effectiveType:e.type:"")}}(c.spa),n,{w_frmid:c._sid});if(c.logger.warn("logData to send: ",t,u),t+="?wpk-header="+encodeURIComponent(e),c.uc_param_str&&(t+="&uc_param_str="+c.uc_param_str),!0===n._diagnose)return u=encodeURIComponent(c.toolKit.objToJsonString(u)),void window.open(t+"&data="+u);u._servAddr=t,u._hash=c.toolKit.genContentHash(u);var l,p,h=c.delay&&-1!==[1,2,4].indexOf(u.category);!function(t,e){var n=t._waitingQueue,r=n.length,o=e.reduplication||t.reduplication||!0,i=!0;if(1===e.category&&o&&0!==r){for(var a,s=0;s<r;s++)if((a=n[s])._hash===e._hash){a.w_cnt++,i=!1;break}i&&n.push(e)}else n.push(e);return i}(c,u)&&h?c.logger.warn("logData被合并: ",u):(l=function(){d(c)},f=-1==(p=h?3e3:-1)?(l(),null):setTimeout(l,p||0))}},getWid:function(){var t=u(r.sdk.WID_KEY);return t||(t=this.toolKit.uuid(),u(r.sdk.WID_KEY,t,15552e3)),t},bindUnloadEvent:function(t){window&&(window.addEventListener?window.addEventListener("beforeunload",(function(e){p(t)}),!1):window.attachEvent&&window.attachEvent("onbeforeunload",(function(e){p(t)})))}}}])}}]);